import{b as k,R as x,u as T,j as e,L as t}from"./app-D5iGuCwC.js";import{L}from"./website-DpLNbFCa.js";import{A as S}from"./arrow-left-B4aCcPA_.js";import{C as u}from"./calendar-DfnH_6Xd.js";import{C as h}from"./clock-BPFAYUvO.js";import{S as M}from"./star-B2RjjU-5.js";import{S as E}from"./share-2-CiLwThGr.js";import{H as A}from"./heart-Drl5BN7X.js";import{M as D}from"./NavbarMobile-DLw295GW.js";import{S as R}from"./send-Bzl8ubEJ.js";import{A as f}from"./arrow-right-cqLGAeLF.js";/* empty css            */import"./createLucideIcon-CQZjpfd-.js";import"./x-HkmsM_Xv.js";import"./user-g016JaNb.js";import"./mail-24E_eG_Q.js";function Y({post:r,relatedPosts:n,comments:c,likesCount:g,isLikedByUser:p}){const i=k().props?.auth||{user:null},[j,b]=x.useState(g),[o,y]=x.useState(p),l=T({content:"",name:"",email:""}),N=async()=>{try{const s=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!s){console.error("CSRF token not found");return}const a=await fetch(`/blog/${r.id}/like`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":s},credentials:"same-origin"});if(!a.ok){if(a.status===419){window.location.reload();return}const C=await a.json().catch(()=>({}));throw new Error(C.error||`HTTP error! status: ${a.status}`)}const m=await a.json();y(m.liked),b(m.likes_count)}catch(s){console.error("Error toggling like:",s)}},v=s=>{s.preventDefault(),l.post(`/blog/${r.id}/comments`,{onSuccess:()=>{l.reset(),window.location.reload()},onError:a=>{console.error("Error submitting comment:",a)}})},d=s=>new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),w=()=>{navigator.share?navigator.share({title:r.title,text:r.excerpt,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("URL copiada al portapapeles"))};return e.jsxs(L,{title:`${r.title} - Blog`,hideFooterOnMobile:!0,children:[e.jsx("section",{className:"py-8",style:{backgroundColor:"#f2e7dd"},children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsx("div",{className:"mx-auto max-w-4xl",children:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm",style:{color:"#706363"},children:[e.jsx(t,{href:"/",className:"transition-colors",style:{color:"#706363"},onMouseEnter:s=>s.currentTarget.style.color="#e05353",onMouseLeave:s=>s.currentTarget.style.color="#706363",children:"Inicio"}),e.jsx("span",{children:"/"}),e.jsx(t,{href:"/blog",className:"transition-colors",style:{color:"#706363"},onMouseEnter:s=>s.currentTarget.style.color="#e05353",onMouseLeave:s=>s.currentTarget.style.color="#706363",children:"Blog"}),e.jsx("span",{children:"/"}),e.jsx("span",{style:{color:"#5f0a3c"},children:r.title})]})})})}),e.jsx("section",{className:"py-12",style:{backgroundColor:"#f2e7dd"},children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"mx-auto max-w-4xl",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(t,{href:"/blog",className:"flex items-center transition-colors",style:{color:"#e05353"},onMouseEnter:s=>s.currentTarget.style.color="#5f0a3c",onMouseLeave:s=>s.currentTarget.style.color="#e05353",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Volver al blog"]})}),e.jsxs("article",{className:"prose prose-lg max-w-none",children:[r.image&&e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:r.image_url||`/storage/${r.image}`,alt:r.title,className:"h-96 w-full rounded-2xl object-cover shadow-lg"})}),e.jsxs("div",{className:"mb-8 flex items-center justify-between pb-6",style:{borderBottom:"1px solid #98ada4"},children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center",style:{color:"#706363"},children:[e.jsx(u,{className:"mr-2 h-5 w-5"}),e.jsx("span",{children:d(r.published_at)})]}),e.jsxs("div",{className:"flex items-center",style:{color:"#706363"},children:[e.jsx(h,{className:"mr-2 h-5 w-5"}),e.jsxs("span",{children:[r.reading_time," min de lectura"]})]}),r.featured&&e.jsxs("div",{className:"flex items-center",style:{color:"#e05353"},children:[e.jsx(M,{className:"mr-1 h-5 w-5 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:"Destacado"})]})]}),e.jsxs("button",{onClick:w,className:"flex items-center transition-colors",style:{color:"#706363"},onMouseEnter:s=>s.currentTarget.style.color="#e05353",onMouseLeave:s=>s.currentTarget.style.color="#706363",children:[e.jsx(E,{className:"mr-2 h-5 w-5"}),"Compartir"]})]}),e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"mb-4 text-4xl leading-tight font-bold",style:{color:"#5f0a3c"},children:r.title}),r.subtitle&&e.jsx("h2",{className:"text-2xl leading-relaxed font-light",style:{color:"#706363"},children:r.subtitle})]}),r.excerpt&&e.jsx("div",{className:"mb-8 rounded-2xl border-l-4 p-6",style:{borderLeftColor:"#e05353",backgroundColor:"#f2e7dd"},children:e.jsx("p",{className:"text-lg leading-relaxed italic",style:{color:"#706363"},children:r.excerpt})}),e.jsx("div",{className:"text-lg leading-relaxed",style:{color:"#706363"},children:e.jsx("div",{className:"whitespace-pre-wrap",children:r.content})})]}),e.jsxs("div",{className:"mt-12 pt-12",style:{borderTop:"1px solid #98ada4"},children:[e.jsx("div",{className:"mb-8 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:N,className:"flex items-center space-x-2 rounded-lg px-4 py-2 transition-colors",style:{backgroundColor:"#f2e7dd",color:o?"#e05353":"#706363",border:`2px solid ${o?"#e05353":"#98ada4"}`},onMouseEnter:s=>{o||(s.currentTarget.style.color="#e05353",s.currentTarget.style.borderColor="#e05353")},onMouseLeave:s=>{o||(s.currentTarget.style.color="#706363",s.currentTarget.style.borderColor="#98ada4")},children:[e.jsx(A,{className:`h-5 w-5 ${o?"fill-current":""}`}),e.jsx("span",{children:j})]}),e.jsxs("div",{className:"flex items-center",style:{color:"#706363"},children:[e.jsx(D,{className:"mr-2 h-5 w-5"}),e.jsxs("span",{children:[c.length," comentarios"]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("form",{onSubmit:v,className:"rounded-lg p-6 border-2",style:{backgroundColor:"#f2e7dd",borderColor:"#98ada4"},children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full font-semibold",style:{background:"linear-gradient(135deg, #98ada4, #e05353)",color:"#f2e7dd"},children:i?.user?.name?.charAt(0)?.toUpperCase()||"A"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[!i?.user&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsx("input",{type:"text",value:l.data.name,onChange:s=>l.setData("name",s.target.value),placeholder:"Tu nombre (opcional)",className:"w-full rounded-lg border p-2",style:{borderColor:"#98ada4",backgroundColor:"#f2e7dd",color:"#5f0a3c"}})}),e.jsx("div",{children:e.jsx("input",{type:"email",value:l.data.email,onChange:s=>l.setData("email",s.target.value),placeholder:"Tu email (opcional)",className:"w-full rounded-lg border p-2",style:{borderColor:"#98ada4",backgroundColor:"#f2e7dd",color:"#5f0a3c"}})})]}),e.jsx("textarea",{value:l.data.content,onChange:s=>l.setData("content",s.target.value),placeholder:"Escribe un comentario...",className:"w-full resize-none rounded-lg border p-3",style:{borderColor:"#98ada4","--tw-ring-color":"#98ada4"},rows:3}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:l.processing,className:"flex items-center rounded-lg px-4 py-2 transition-colors disabled:opacity-50",style:{background:"linear-gradient(135deg, #98ada4, #e05353)",color:"#f2e7dd"},children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Comentar"]})})]})]})}),c.length>0&&e.jsx("div",{className:"space-y-6",children:c.map(s=>e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full font-semibold",style:{background:"linear-gradient(135deg, #e05353, #98ada4)",color:"#f2e7dd"},children:(s.user?.name||s.name||"A").charAt(0).toUpperCase()})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"rounded-lg border-2 p-4",style:{borderColor:"#98ada4",backgroundColor:"#f2e7dd"},children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold",style:{color:"#5f0a3c"},children:s.user?.name||s.name||"Anónimo"}),e.jsx("span",{className:"text-sm",style:{color:"#706363",opacity:.8},children:new Date(s.created_at).toLocaleDateString("es-ES")})]}),e.jsx("p",{className:"whitespace-pre-wrap",style:{color:"#706363"},children:s.content})]})})]},s.id))})]})]}),e.jsx("div",{className:"mt-12 rounded-2xl border-2 p-8",style:{borderColor:"#e05353",background:"linear-gradient(135deg, rgba(152, 173, 164, 0.3), rgba(224, 83, 83, 0.3))"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"mb-4 text-2xl font-semibold",style:{color:"#5f0a3c"},children:"¿Te ha resultado útil este artículo?"}),e.jsx("p",{className:"mb-6",style:{color:"#706363"},children:"Si necesitas apoyo profesional personalizado, estoy aquí para ayudarte."}),e.jsxs("div",{className:"flex flex-col justify-center gap-4 sm:flex-row",children:[e.jsxs(t,{href:"/contact",className:"inline-flex items-center justify-center rounded-lg px-8 py-3 font-medium transition-colors",style:{background:"linear-gradient(135deg, #98ada4, #e05353)",color:"#f2e7dd"},children:[e.jsx(f,{className:"mr-2 h-5 w-5"}),"Contactar Ahora"]}),e.jsx(t,{href:"/services",className:"inline-flex items-center justify-center rounded-lg border-2 px-8 py-3 font-medium transition-colors",style:{borderColor:"#e05353",backgroundColor:"#f2e7dd",color:"#5f0a3c"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#e05353",s.currentTarget.style.color="#f2e7dd"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="#f2e7dd",s.currentTarget.style.color="#5f0a3c"},children:"Ver Servicios"})]})]})})]})})}),n.length>0&&e.jsx("section",{className:"py-16",style:{backgroundColor:"#f2e7dd"},children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsx("h2",{className:"mb-8 text-center text-3xl font-light",style:{color:"#5f0a3c"},children:"Artículos Relacionados"}),e.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:n.map(s=>e.jsxs("article",{className:"overflow-hidden rounded-3xl transition-all duration-300 hover:scale-105 hover:transform border-2 shadow-lg",style:{backgroundColor:"#f2e7dd",borderColor:"#98ada4"},children:[s.image&&e.jsx("div",{className:"aspect-w-16 aspect-h-9",children:e.jsx("img",{src:s.image_url||`/storage/${s.image}`,alt:s.title,className:"h-48 w-full object-cover"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-3 flex items-center text-sm",style:{color:"#706363",opacity:.8},children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),d(s.published_at),e.jsx(h,{className:"mr-2 ml-4 h-4 w-4"}),s.reading_time," min"]}),e.jsx("h3",{className:"mb-3 line-clamp-2 text-xl font-semibold",style:{color:"#5f0a3c"},children:s.title}),s.subtitle&&e.jsx("p",{className:"mb-4 line-clamp-2",style:{color:"#706363"},children:s.subtitle}),e.jsx("p",{className:"mb-4 line-clamp-3",style:{color:"#706363"},children:s.excerpt}),e.jsxs(t,{href:`/blog/${s.slug}`,className:"flex items-center font-medium transition-colors",style:{color:"#e05353"},onMouseEnter:a=>a.currentTarget.style.color="#5f0a3c",onMouseLeave:a=>a.currentTarget.style.color="#e05353",children:["Leer más",e.jsx(f,{className:"ml-1 h-4 w-4"})]})]})]},s.id))})]})})})]})}export{Y as default};
