import{u as f,a as j,j as e,H as y,L as m}from"./app-D5iGuCwC.js";import{A as N}from"./app-layout-DCTR7Bxp.js";import{A as v}from"./arrow-left-B4aCcPA_.js";import{X as w}from"./x-HkmsM_Xv.js";import{I as _,U as S}from"./upload-CljDU3vj.js";import{S as C}from"./star-B2RjjU-5.js";import{S as k}from"./save-BiI7I7Fb.js";/* empty css            */import"./button-D7wWm94x.js";import"./index-ByEcdYgQ.js";import"./index-C64FNz03.js";import"./createLucideIcon-CQZjpfd-.js";import"./index-hHY3XkoV.js";function U({post:a}){const{data:r,setData:l,put:x,processing:i,errors:s}=f({title:a.title,subtitle:a.subtitle||"",content:a.content,excerpt:a.excerpt||"",image:null,status:a.status,published_at:a.published_at?new Date(a.published_at).toISOString().slice(0,16):"",featured:a.featured,meta_title:a.meta_data?.meta_title||"",meta_description:a.meta_data?.meta_description||""}),u=[{title:"Dashboard",href:"/dashboard"},{title:"Posts",href:"/admin/posts"},{title:"Editar Post",href:`/admin/posts/${a.id}/edit`}],[o,c]=j.useState(a.image_url||(a.image?`/storage/${a.image}`:null)),h=t=>{const d=t.target.files?.[0];if(d){l("image",d);const n=new FileReader;n.onload=p=>{c(p.target?.result)},n.readAsDataURL(d)}},b=()=>{l("image",null),c(null)},g=t=>{t.preventDefault(),x(`/admin/posts/${a.id}`)};return e.jsxs(N,{breadcrumbs:u,children:[e.jsx(y,{title:`Editar: ${a.title} - Blog`}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(m,{href:"/admin/posts",className:"text-gray-600 hover:text-gray-900 transition-colors mr-4",children:e.jsx(v,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Editar Post"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Modifica la información del post"})]})]})}),e.jsx("form",{onSubmit:g,className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información Básica"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Título *"}),e.jsx("input",{type:"text",id:"title",value:r.title,onChange:t=>l("title",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Título del post"}),s.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subtitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtítulo"}),e.jsx("input",{type:"text",id:"subtitle",value:r.subtitle,onChange:t=>l("subtitle",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Subtítulo del post"}),s.subtitle&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.subtitle})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Resumen"}),e.jsx("textarea",{id:"excerpt",rows:3,value:r.excerpt,onChange:t=>l("excerpt",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Breve resumen del post"}),s.excerpt&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.excerpt})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contenido"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contenido *"}),e.jsx("textarea",{id:"content",rows:15,value:r.content,onChange:t=>l("content",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Escribe el contenido del post aquí..."}),s.content&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.content})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Imagen del Post"}),e.jsxs("div",{className:"space-y-4",children:[o?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:b,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(w,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Selecciona una imagen para el post"}),e.jsxs("label",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg cursor-pointer inline-flex items-center",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Subir Imagen",e.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]})]}),s.image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.image})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado y Publicación"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado *"}),e.jsxs("select",{id:"status",value:r.status,onChange:t=>l("status",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"draft",children:"Borrador"}),e.jsx("option",{value:"published",children:"Publicado"}),e.jsx("option",{value:"scheduled",children:"Programado"})]}),s.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.status})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"published_at",className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Publicación"}),e.jsx("input",{type:"datetime-local",id:"published_at",value:r.published_at,onChange:t=>l("published_at",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.published_at&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.published_at})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:r.featured,onChange:t=>l("featured",t.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"featured",className:"ml-2 text-sm text-gray-700 flex items-center",children:[e.jsx(C,{className:"w-4 h-4 mr-1"}),"Post destacado"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"SEO"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"meta_title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Título"}),e.jsx("input",{type:"text",id:"meta_title",value:r.meta_title,onChange:t=>l("meta_title",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Título para SEO",maxLength:60}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[r.meta_title.length,"/60"]}),s.meta_title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.meta_title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"meta_description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Descripción"}),e.jsx("textarea",{id:"meta_description",rows:3,value:r.meta_description,onChange:t=>l("meta_description",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Descripción para SEO",maxLength:160}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[r.meta_description.length,"/160"]}),s.meta_description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.meta_description})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center disabled:opacity-50",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),i?"Guardando...":"Actualizar Post"]}),e.jsx(m,{href:"/admin/posts",className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors text-center block",children:"Cancelar"})]})})]})]})})]})})]})}export{U as default};
